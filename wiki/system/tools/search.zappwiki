{"title":"Search","text":"<input class='headerInput' style='width:100%' id='searchBox'></input>\n<BR>\n<BR>\n<button class='btn btn-default' onclick='processSearch()'>Search</button>\n<hr>\n<div id='out'>\n</div>","type":"zappwiki","timestamp":1500665752548,"locked":false,"include":"/system/lib/search.js","preload":"var results = []\n\nfunction processSearch() {\n  \tvar input = document.getElementById(\"searchBox\").value;\n\tvar search = new WikiSearch(input) \n    results = []\n  \tsearch.on(\"result\",function(result) {\n    \tresults.push(result)\n     \tresults.sort(function(a,b) {return b.numMatches-a.numMatches})\n      \tdocument.getElementById(\"out\").innerHTML = \"<i>Searching... found \"+results.length+\" results</i>\"\n    })\n  \tsearch.on(\"end\",function() {\n    \tresults.sort(function(a,b) {return b.numMatches-a.numMatches})\n      \tprintResults();\n    })\n  \tsearch.start();\n\tdocument.getElementById(\"out\").innerHTML = \"<i>Searching... found 0 results</i>\"\n}\n\nfunction printResults() {\n  \tvar html = \"<i>Found \"+results.length+\" result\"+(results.length == 1 ? \"\" : \"s\")+\"</i>\"\n\tfor (var i = 0; i <results.length; i++) {\n      \tvar result = results[i]\n    \thtml += \"<BR><a href='/\"+result.path+\"'>\"+result.name+\"</a>\"\n    }\n  \tdocument.getElementById(\"out\").innerHTML = html;\n}","format":"ZWP v3"}